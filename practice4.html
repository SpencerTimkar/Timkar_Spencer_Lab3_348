<?php
$inputValue = '';
$multNumber = null;

if (isset($_GET['number'])) { //had some help being abble to get input from the html into the CSS
    $inputValue = $_GET['number'];
    $multNumber = filter_input(INPUT_GET, 'number', FILTER_VALIDATE_INT);
}
?>
<!-- HTML starts here -->
<html>
<link rel="stylesheet" href="style.css">

<body>
<!-- Page title -->
<h1>
    Multiplication Table
</h1>

<!-- Form for user input -->
<form method="get" action="" style="text-align:center;")>
    <label for="number">Enter the multiplication table number:</label>
    <input type="number" id="number" name="number" value="<?php echo htmlspecialchars($inputValue, ENT_QUOTES, 'UTF-8'); ?>">
    <button type="submit">Go</button>
</form>

<!-- Container for the multiplication table -->
<div id="table-container" style="text-align:center; margin-top:20px;")>
<?php
if ($multNumber !== null) {
    if ($multNumber === false || $multNumber < 1 || $multNumber > 500) {
        echo '<p>Please enter a whole number between 1 and 500.</p>';
    } else {
        $safeNumber = htmlspecialchars($multNumber, ENT_QUOTES, 'UTF-8');
        echo '<table class="multiplication">';
        echo '<caption>Multiplication Table for ' . $safeNumber . '</caption>';
        echo '<tr><th>Ã—</th>';

        for ($col = 1; $col <= $multNumber; $col++) {
            echo '<th>' . $col . '</th>';
        }

        echo '</tr>';

        for ($row = 1; $row <= $multNumber; $row++) {
            echo '<tr>';
            echo '<th>' . $row . '</th>';

            for ($col = 1; $col <= $multNumber; $col++) {
                echo '<td>' . ($row * $col) . '</td>';
            }

            echo '</tr>';
        }

        echo '</table>';
    }
}
?>
</div>

<a class="bubble-back-link" href="index.html">Go back to Index</a>
</body>
</html>
